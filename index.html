<!doctype html>
<html ng-app='ClientWeb'>
<head>
    <meta charset="utf-8">
    <script src="./angular.min.js"></script>
    <script src="./traitement.js" ></script>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <script src="bootstrap/js/ui-bootstrap-tpls-0.3.0.min.js" type="text/javascript"></script>
    <script src="bootstrap/js/ui-bootstrap-0.3.0.min.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <title>Web Client</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span2">
                <div class="btn-group btn-group-vertical">
                    <div ng-controller="ajoutTelechargementCtrl">
                        <button class="btn" ng-click="open()">Ajouter un telechargement HTTP</button>
                        <div modal="shouldBeOpen" close="close()" options="opts">
                            <div class="modal-header">
                                <h4>Ajouter un telechargement HTTP</h4>
                            </div>
                            <div class="modal-body">
                                Url : <input ng-model="url" /><br />
                                <input type="checkbox" ng-model="autent">Autentification requise<br />
                                Login : <input ng-model="login"><br />
                                Mot de passe : <input ng-model="mdp"><br />
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-warning cancel" ng-click="close()">Cancel</button>
                                <button class="btn" ng-click="close()">Envoyer</button>
                            </div>
                        </div>
                    </div>
                    <div ng-controller="ajoutTelechargementCtrl">
                        <button class="btn" ng-click="open()">Ajouter un torrent</button>
                        <div modal="shouldBeOpen" close="close()" options="opts">
                            <div class="modal-header">
                                <h4>Ajouter un telechargement HTTP</h4>
                            </div>
                            <div class="modal-body">
                                Magnet links : <input ng-model="magnet" /><br />
                                Ou<br />
                                fichier torrent : <input type="file">
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-warning cancel" ng-click="close()">Cancel</button>
                                <button class="btn" ng-click="send()">Envoyer</button>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn" ng-click="filtre.status = ''"> 
                        Tout 
                    </button>
                    <button type="button" class="btn" ng-click="filtre.status = 'play'">
                        Telechargement en cours 
                    </button>
                    <button type="button" class="btn"  ng-click="filtre.status = 'send'"> 
                        Envoie en cours 
                    </button>
                    <button type="button" class="btn"  ng-click="filtre.status = 'pause'">
                        En pause
                    </button>
                    <button type="button" class="btn"  ng-click="filtre.status = 'stop'">
                        Areter
                    </button>
                </div>
            </div> 
            <div class="span10">
              <div class="container" ng-controller="listTorrentCtrl">
                Search: <input ng-model="query">
                Sort by : <select ng-model="order" ng-options="o.name for o in orders"></select>
                <button type="button" class="btn btn-primary" ng-model="desc" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false">
                    Desc
                </button>
                <br />
                Nombre total de dl : {{downloads.length}}
                <ul>
                    <li ng-repeat="download in downloads | filter:filtre | filter:query | orderBy:order.value:desc">
                        <h1>{{download.name}} </h1><br />
                        <div class="progress {{download.bar_status}} ">
                            <div class="bar {{download.bar_type}}" style="width: {{download.bar}}%;">{{download.bar}}%</div>
                        </div>
                        taille : {{download.size_tot}} <br />
                        taille dl : {{download.size_dl}} <br />
                        Date d'ajout : {{download.date_ajout}} <br />
                        Status : {{download.status}} <br />
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>
